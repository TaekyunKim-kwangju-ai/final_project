<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>블로그 포스팅 생성기</title>
    <style>
        body { display: flex; font-family: Arial, sans-serif; }
        #sidebar { width: 250px; padding: 20px; background-color: #f4f4f4; }
        #content { flex: 1; padding: 20px; }
    </style>
</head>
<body>
    <!-- 옵션 입력 사이드바 -->
    <div id="sidebar">
        <h3>옵션 선택</h3>
        <label>주제:</label>
        <input type="text" id="sort" placeholder="review, advertisement, information">
        <br><br>
        <label>세부 주제:</label>
        <input type="text" id="topic" placeholder="예: 육개장 라면 시식후기">
        <br><br>
        <label>어투:</label>
        <input type="text" id="tone_example" placeholder="예: 완전 럭키비키잖아~">
        <br><br>
        <label>핵심 키워드:</label>
        <input type="text" id="main_message" placeholder="예: 육개장 라면, 면이 얇다">
        <br><br>
        <button onclick="generatePost()">블로그 포스팅 문구 생성</button>
    </div>

    <!-- 결과 표시 영역 -->
    <div id="content">
        <h3>생성된 블로그 포스팅</h3>
        <div id="result">여기에 결과가 표시됩니다.</div>
    </div>

    <script>
        async function generatePost() {
            // 입력 값 가져오기
            const options = {
                sort: document.getElementById('sort').value,
                topic: document.getElementById('topic').value,
                tone_example: document.getElementById('tone_example').value,
                main_message: document.getElementById('main_message').value
            };

            // Flask 서버로 POST 요청 전송
            const response = await fetch('/blogbot/blog', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ options })
            });

            // 생성된 텍스트 결과를 화면에 표시
            const data = await response.json();
            document.getElementById('result').innerText = data.response;
        }
    </script>
</body>
</html>